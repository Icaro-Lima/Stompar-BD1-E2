CREATE TABLE projeto (
    cod_proj INT,
    orcamento NUMERIC(10, 2),
    titulo VARCHAR(15),
    descricao VARCHAR(100),
    dt_inicio DATE,
    dt_fim DATE,
    
    PRIMARY KEY (cod_proj)
);
CREATE TABLE telefone (
    num_telefone VARCHAR(14),

    PRIMARY KEY (num_telefone)
);
CREATE TABLE aluno (
    matricula INT,
    nome VARCHAR(30),
    dt_nasc DATE,
    nivel VARCHAR(150),
    
    PRIMARY KEY (matricula)
);

CREATE TABLE laboratorio (
    cod_lab INT,
    nome VARCHAR(30),
    local VARCHAR(15),
    
    PRIMARY KEY (cod_lab)
);

CREATE TABLE departamento (
    codigo INT,
    endereco VARCHAR(150),
    nome VARCHAR(30),
    telefone VARCHAR(14),
    gerente INT,

    PRIMARY KEY (codigo),
    FOREIGN KEY (telefone) REFERENCES telefone(num_telefone)

);



CREATE TABLE professor (
    matricula INT,
    nome VARCHAR(30),
    dt_nasc DATE,
    titulacao VARCHAR(150),
    cod_dpto INT,

    PRIMARY KEY (matricula),
    FOREIGN KEY (cod_dpto) REFERENCES departamento(codigo)
);


alter table "DEPARTAMENTO" add constraint "GERENTE_DEPT" foreign key ("GERENTE") references "PROFESSOR" ("MATRICULA");

CREATE TABLE recurso (
    codigo INT,
    descricao VARCHAR(100),
    laboratorio INT,
    
    PRIMARY KEY (codigo),
    FOREIGN KEY (laboratorio) REFERENCES laboratorio(cod_lab)
);


CREATE TABLE agencia_financiadora (
    cod_agencia INT,
    nome VARCHAR(30),
    email VARCHAR(40),
    telefone VARCHAR(14),
    endereco VARCHAR(150),
    cod_projeto INT,
    
    PRIMARY KEY (cod_agencia),
    FOREIGN KEY (cod_projeto) REFERENCES projeto(cod_proj)


);
CREATE TABLE patente (
    codigo INT,
    num_reg INT,
    descricao VARCHAR(100),
    projeto INT,
    
    PRIMARY KEY (codigo),
    FOREIGN KEY (projeto) REFERENCES projeto (cod_proj)
);

CREATE TABLE publicacao (
    codigo INT,
    titulo VARCHAR (15),
    veiculo VARCHAR(15),
    ano INT,
    cod_proj INT,

    PRIMARY KEY (codigo),
    FOREIGN KEY (cod_proj) REFERENCES projeto (cod_proj)
);


